<div class="display-6 text-center py-3 post-heading">Your Feed</div>

<% @posts.each do |post| %>
  <div class="card m-5" style="width: 90%;">
    <div class="card-body p-4">
      <h5 class="card-title d-inline fw-bold my-4"><%= post.user.name %></h5>
      <p class="card-text d-inline float-end fst-italic"><%= post.created_at.strftime("%I:%M %p, %d/%m/%Y") %></p>
      <p class="card-text my-4"><%= post.text %></p>
      <% if post.image.attached? %>
        <div class="my-4"><%= image_tag post.image, width: "40%", height: "40%" %></div>
      <% end %>
      <div class="upvotes my-4 d-inline me-5">
        <%= link_to like_post_reactions_path(user_id: post.user.id, post_id: post.id, reaction_type: true), class: 'no-deco' do %>
          <i class="fa-solid fa-thumbs-up fa-2x d-inline mx-2 text-success"></i>
        <% end %>
        <div class="upvotes h2 mx-2 d-inline"><%= post.reactions.where(reaction_type: true).count %></div>
        <%= link_to dislike_post_reactions_path(user_id: post.user.id, post_id: post.id, reaction_type: false), class: 'no-deco' do %>
          <i class="fa-solid fa-thumbs-down fa-2x d-inline mx-2 text-danger"></i>
        <% end %>
        <div class="upvotes h2 mx-2 d-inline"><%= post.reactions.where(reaction_type: false).count %></div>
      </div>
      <div class="d-inline me-5 float-end">
        <% if post.user == current_user %>
          <%= link_to "Edit Post", edit_post_path(post.user.id, post.id), :class => "small-button me-2 bg-primary text-light" %>
          <%= link_to "Delete Post", post_path(post.id), data: { "turbo-method": :delete }, :class => "small-button me-2 bg-danger text-light" %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
